{% extends 'base.html' %}
{% block title %}Профиль {{ user.email }} | Форум{% endblock %}
{% block content %}
<div class="forum-layout">
    <div class="forum-main">
        <div class="forum-category">
            <div class="forum-title">Профиль: {{ user.email }}</div>
            <div class="forum-meta">Роль: {{ user.role }}</div>
            <h3>Темы пользователя</h3>
            <div class="forum-list">
                {% for t in topics %}
                <a class="forum-card" href="/topic/{{ t.id }}">
                    <div class="forum-info">
                        <div class="forum-name">{{ t.title }}</div>
                        <div class="forum-meta">В разделе: {{ t.category.title }} | {{ t.created_at.strftime('%d.%m.%Y %H:%M') }}</div>
                    </div>
                </a>
                {% else %}
                <div class="muted">Нет тем</div>
                {% endfor %}
            </div>
            <h3>Сообщения пользователя</h3>
            <div class="forum-list">
                {% for p in posts %}
                <div class="forum-card">
                    <div class="forum-info">
                        <div class="forum-meta">В теме: <a href="/topic/{{ p.topic.id }}">{{ p.topic.title }}</a> | {{ p.created_at.strftime('%d.%m.%Y %H:%M') }}</div>
                        <div class="forum-desc">{{ p.content|safe }}</div>
                    </div>
                </div>
                {% else %}
                <div class="muted">Нет сообщений</div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock %} 